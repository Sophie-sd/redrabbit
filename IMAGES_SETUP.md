# üñºÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–∞—Ä—Ç–∏–Ω–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤

## –ü–æ—Ç–æ—á–Ω–∞ —Å–∏—Ç—É–∞—Ü—ñ—è
- **–í—Å—å–æ–≥–æ —Ç–æ–≤–∞—Ä—ñ–≤**: 8,356
- **–¢–æ–≤–∞—Ä—ñ–≤ –∑ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏**: 8
- **–¢–æ–≤–∞—Ä—ñ–≤ –±–µ–∑ –∫–∞—Ä—Ç–∏–Ω–æ–∫**: 8,348

## üöÄ –®–≤–∏–¥–∫–∏–π –∑–∞–ø—É—Å–∫

### 1. –ú–∞—Å–æ–≤–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞—Ä—Ç–∏–Ω–æ–∫ (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ)
```bash
# –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –¥–ª—è –≤—Å—ñ—Ö —Ç–æ–≤–∞—Ä—ñ–≤ –±–µ–∑ –∑–æ–±—Ä–∞–∂–µ–Ω—å
python3 download_all_images.py
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
```bash
# –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ cron jobs –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
./setup_sync_cron.sh
```

## üìã –î–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

### –ú–∞—Å–æ–≤–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞—Ä—Ç–∏–Ω–æ–∫
```bash
# –ë–∞–∑–æ–≤–∞ –∫–æ–º–∞–Ω–¥–∞
python3 manage.py bulk_download_images

# –ó –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏
python3 manage.py bulk_download_images \
  --batch-size 50 \
  --delay 0.2 \
  --max-retries 3
```

### –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —Ç–æ–≤–∞—Ä—ñ–≤
```bash
# –ü–æ–≤–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è (—Ü—ñ–Ω–∏ + –∫–∞—Ä—Ç–∏–Ω–∫–∏)
python3 manage.py sync_products

# –¢—ñ–ª—å–∫–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏
python3 manage.py sync_products --images-only

# –¢—ñ–ª—å–∫–∏ —Ü—ñ–Ω–∏ (–±–µ–∑ –∫–∞—Ä—Ç–∏–Ω–æ–∫)
python3 manage.py sync_products --skip-images
```

## ‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–æ–∑–∫–ª–∞–¥

–ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è cron jobs:

| –ß–∞—Å | –ó–∞–≤–¥–∞–Ω–Ω—è | –û–ø–∏—Å |
|-----|----------|------|
| **–ö–æ–∂–Ω—ñ 2 –≥–æ–¥–∏–Ω–∏** | –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è | –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ü—ñ–Ω, –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ —Ç–∞ –Ω–æ–≤–∏—Ö –∫–∞—Ä—Ç–∏–Ω–æ–∫ |
| **–©–æ–¥–Ω—è –æ 3:00** | –ú–∞—Å–æ–≤–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è | –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞—Ä—Ç–∏–Ω–æ–∫ –¥–ª—è —Ç–æ–≤–∞—Ä—ñ–≤ –±–µ–∑ –∑–æ–±—Ä–∞–∂–µ–Ω—å |
| **–©–æ–¥–Ω—è –æ 8:00** | –ü–æ–≤–Ω–∏–π —ñ–º–ø–æ—Ä—Ç | –Ü–º–ø–æ—Ä—Ç –Ω–æ–≤–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤ —Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π |

## üìÅ –õ–æ–≥–∏

```bash
# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
tail -f /tmp/intshop_sync.log

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞—Ä—Ç–∏–Ω–æ–∫
tail -f /tmp/intshop_images.log

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ —ñ–º–ø–æ—Ä—Ç—É
tail -f /tmp/intshop_import.log
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- **batch-size**: –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—ñ–≤ –≤ –æ–¥–Ω–æ–º—É –ø–∞–∫–µ—Ç—ñ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 100)
- **delay**: –∑–∞—Ç—Ä–∏–º–∫–∞ –º—ñ–∂ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 0.1)
- **max-retries**: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö —Å–ø—Ä–æ–± (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 3)

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ
```bash
# –®–≤–∏–¥–∫–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–±–µ–∑ –∑–∞—Ç—Ä–∏–º–∫–∏)
python3 manage.py bulk_download_images --delay 0 --batch-size 200

# –ü–æ–≤—ñ–ª—å–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (—â–∞–¥–Ω–∏–π —Ä–µ–∂–∏–º)
python3 manage.py bulk_download_images --delay 0.5 --batch-size 50
```

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—É

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—ñ–≤ –∑ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏
python3 manage.py shell -c "
from apps.products.models import Product
print(f'–¢–æ–≤–∞—Ä—ñ–≤ –∑ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏: {Product.objects.filter(images__isnull=False).distinct().count()}')
print(f'–¢–æ–≤–∞—Ä—ñ–≤ –±–µ–∑ –∫–∞—Ä—Ç–∏–Ω–æ–∫: {Product.objects.filter(images__isnull=True).count()}')
"
```

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤—ñ –ø—Ä–∏–º—ñ—Ç–∫–∏

1. **–ü–µ—Ä—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è** –º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ 2-4 –≥–æ–¥–∏–Ω–∏ –¥–ª—è –≤—Å—ñ—Ö 8,348 —Ç–æ–≤–∞—Ä—ñ–≤
2. **–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑'—î–¥–Ω–∞–Ω–Ω—è** –ø–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏ —Å—Ç–∞–±—ñ–ª—å–Ω–∏–º
3. **–ú—ñ—Å—Ü–µ –Ω–∞ –¥–∏—Å–∫—É** - –∫–æ–∂–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞ ~50-200KB, –∑–∞–≥–∞–ª–æ–º ~400MB-1.6GB
4. **–ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∑–∞—Ç—Ä–∏–º–∫–∏ –ø—Ä–∏ –≤–µ–ª–∏–∫–∏—Ö –æ–±—Å—è–≥–∞—Ö

## üÜò –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ–º–∏–ª–∫–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∑ –±—ñ–ª—å—à–∏–º–∏ –∑–∞—Ç—Ä–∏–º–∫–∞–º–∏
python3 manage.py bulk_download_images --delay 0.5 --max-retries 5
```

### –û—á–∏—Å—Ç–∫–∞ —Ç–∞ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
```bash
# –í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–∞–Ω–æ–≤–æ
python3 manage.py sync_products --images-only
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ cron jobs
```bash
# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è
crontab -l

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –ø—Ä–∞—Ü—é—î cron
sudo service cron status
```

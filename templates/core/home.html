{% extends 'base.html' %}
{% load static %}

{% block title %}Beauty Shop - –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ –∫–æ—Å–º–µ—Ç–∏–∫–∞ –¥–ª—è —Å–∞–ª–æ–Ω—ñ–≤ –∫—Ä–∞—Å–∏{% endblock %}
{% block description %}–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω Beauty Shop –ø—Ä–æ–ø–æ–Ω—É—î –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω—É –∫–æ—Å–º–µ—Ç–∏–∫—É, —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–∞ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è –¥–ª—è —Å–∞–ª–æ–Ω—ñ–≤ –∫—Ä–∞—Å–∏. –Ø–∫—ñ—Å–Ω—ñ —Ç–æ–≤–∞—Ä–∏, —à–≤–∏–¥–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ.{% endblock %}

{% block content %}
<!-- 1. Banner Slider Section -->
<section class="banner-slider-section" aria-label="–†–µ–∫–ª–∞–º–Ω—ñ –±–∞–Ω–µ—Ä–∏">
    <div class="banner-slider-container">
        <div class="banner-slider" id="bannerSlider">
            <div class="banner-slide active">
                <img src="{% static 'images/baner1_beautyshop.jpg' %}" alt="–ê–∫—Ü—ñ–π–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó Beauty Shop" class="banner-image">
            </div>
        </div>
        
        <button class="banner-nav banner-nav-prev" id="bannerPrev" aria-label="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –±–∞–Ω–µ—Ä">
            <span class="nav-arrow">‚Äπ</span>
        </button>
        <button class="banner-nav banner-nav-next" id="bannerNext" aria-label="–ù–∞—Å—Ç—É–ø–Ω–∏–π –±–∞–Ω–µ—Ä">
            <span class="nav-arrow">‚Ä∫</span>
        </button>
        
        <div class="banner-dots" id="bannerDots">
            <button class="banner-dot active" data-slide="0" aria-label="–ë–∞–Ω–µ—Ä 1"></button>
        </div>
    </div>
</section>

<!-- 2. Categories Section -->
<section class="categories-section section-padding" aria-label="–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–æ–≤–∞—Ä—ñ–≤">
    <div class="container">
        <div class="section-header text-center">
            <h2 class="section-title">–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–æ–≤–∞—Ä—ñ–≤</h2>
            <p class="section-subtitle">
                –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ –∑–∞—Å–æ–±–∏ –¥–ª—è –¥–æ–≥–ª—è–¥—É —Ç–∞ —Å–∞–ª–æ–Ω–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
            </p>
        </div>
        
        <div class="categories-grid">
            {% for category in categories %}
                <div class="category-card card fade-in{% if category.name == '–ê–∫—Ü—ñ–π–Ω—ñ —Ç–æ–≤–∞—Ä–∏' %} category-featured{% endif %}">
                    {% if category.name == '–ê–∫—Ü—ñ–π–Ω—ñ —Ç–æ–≤–∞—Ä–∏' %}
                        <a href="{% url 'products:sale' %}" class="category-link">
                    {% else %}
                        <a href="{{ category.get_absolute_url }}" class="category-link">
                    {% endif %}
                        <div class="category-image">
                            {% if category.image %}
                                <img src="{{ category.image.url }}" alt="{{ category.name }}" loading="lazy">
                            {% else %}
                                <div class="category-placeholder">
                                    {% if category.name == '–ê–∫—Ü—ñ–π–Ω—ñ —Ç–æ–≤–∞—Ä–∏' %}
                                        <span class="category-emoji">üî•</span>
                                    {% elif category.name == '–ù—ñ–≥—Ç—ñ' %}
                                        <span class="category-emoji">üíÖ</span>
                                    {% elif category.name == '–í–æ–ª–æ—Å—Å—è' %}
                                        <span class="category-emoji">üíá</span>
                                    {% elif category.name == '–ë—Ä–æ–≤–∏ —Ç–∞ –≤—ñ—ó' %}
                                        <span class="category-emoji">üëÅÔ∏è</span>
                                    {% elif category.name == '–î–µ–ø—ñ–ª—è—Ü—ñ—è' %}
                                        <span class="category-emoji">‚ú®</span>
                                    {% elif category.name == '–ö–æ—Å–º–µ—Ç–∏–∫–∞' %}
                                        <span class="category-emoji">üíÑ</span>
                                    {% elif category.name == '–ú–∞–∫—ñ—è–∂' %}
                                        <span class="category-emoji">üíã</span>
                                    {% elif category.name == '–û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞ –ø—Ä–æ–¥—É–∫—Ü—ñ—è' %}
                                        <span class="category-emoji">üßº</span>
                                    {% elif category.name == '–î–µ–∑—ñ–Ω—Ñ–µ–∫—Ü—ñ—è —Ç–∞ —Å—Ç–µ—Ä–∏–ª—ñ–∑–∞—Ü—ñ—è' %}
                                        <span class="category-emoji">üß¥</span>
                                    {% elif category.name == '–ú–µ–±–ª—ñ –¥–ª—è —Å–∞–ª–æ–Ω—ñ–≤' %}
                                        <span class="category-emoji">ü™ë</span>
                                    {% else %}
                                        <span class="category-emoji">üì¶</span>
                                    {% endif %}
                                </div>
                            {% endif %}
                            
                            {% if category.name == '–ê–∫—Ü—ñ–π–Ω—ñ —Ç–æ–≤–∞—Ä–∏' %}
                                <div class="category-badge">–ì–ê–†–Ø–ß–Ü –ü–†–û–ü–û–ó–ò–¶–Ü–á</div>
                            {% endif %}
                        </div>
                        <div class="category-content">
                            <h3 class="category-name">{{ category.name }}</h3>
                            {% if category.description %}
                                <p class="category-description">{{ category.description|truncatewords:8 }}</p>
                            {% endif %}
                        </div>
                    </a>
                </div>
            {% empty %}
                <div class="col-12 text-center">
                    <p class="text-muted">–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è...</p>
                </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- 3. Features Section -->
<section class="features-section section-padding" aria-label="–ù–∞—à—ñ –ø–µ—Ä–µ–≤–∞–≥–∏">
    <div class="container">
        <div class="features-grid">
            <div class="feature-item fade-in">
                <div class="feature-image">
                    <img src="{% static 'images/delivery.png' %}" alt="–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ" loading="lazy">
                </div>
                <div class="feature-content">
                    <h3 class="feature-title">–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ</h3>
                    <p class="feature-description">–í—ñ–¥–ø—Ä–∞–≤–∫–∞ –≤–ø—Ä–æ–¥–æ–≤–∂ –¥–Ω—è</p>
                </div>
            </div>
            
            <div class="feature-item fade-in">
                <div class="feature-image">
                    <img src="{% static 'images/consult.png' %}" alt="–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è —Ç–∞ –ø—ñ–¥–±—ñ—Ä" loading="lazy">
                </div>
                <div class="feature-content">
                    <h3 class="feature-title">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è —Ç–∞ –ø—ñ–¥–±—ñ—Ä</h3>
                    <p class="feature-description">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å</p>
                </div>
            </div>
            
            <div class="feature-item fade-in">
                <div class="feature-image">
                    <img src="{% static 'images/pay.png' %}" alt="–ó—Ä—É—á–Ω–∞ –æ–ø–ª–∞—Ç–∞" loading="lazy">
                </div>
                <div class="feature-content">
                    <h3 class="feature-title">–ó—Ä—É—á–Ω–∞ –æ–ø–ª–∞—Ç–∞</h3>
                    <p class="feature-description">–û–Ω–ª–∞–π–Ω –∞–±–æ –Ω–∞–∫–ª–∞–¥–µ–Ω–∏–π –ø–ª–∞—Ç—ñ–∂</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 4. Recommended Products Section -->
<section class="recommended-section section-padding bg-light" aria-label="–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —Ç–æ–≤–∞—Ä–∏">
    <div class="container">
        <div class="section-header text-center">
            <h2 class="section-title">–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —Ç–æ–≤–∞—Ä–∏</h2>
            <p class="section-subtitle">
                –ù–∞–π–∫—Ä–∞—â—ñ —Ç–æ–≤–∞—Ä–∏ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
            </p>
        </div>
        
        <div class="recommended-slider-container">
            <button class="slider-nav-btn slider-prev-btn" aria-label="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ —Ç–æ–≤–∞—Ä–∏">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
            
            <div class="recommended-slider" id="recommendedSlider">
                {% for product in recommended_products %}
                    <div class="product-card card fade-in">
                        <div class="product-image">
                            <a href="{{ product.get_absolute_url }}">
                                {% if product.images.first %}
                                    <img src="{{ product.images.first.image.url }}" alt="{{ product.name }}" loading="lazy">
                                {% else %}
                                    <div class="product-placeholder">
                                        <span class="placeholder-icon">üì¶</span>
                                    </div>
                                {% endif %}
                                
                                {% if product.get_stickers %}
                                    <div class="product-stickers">
                                        {% for sticker in product.get_stickers %}
                                            <span class="product-sticker sticker-{{ sticker.type }}">
                                                {{ sticker.text }}
                                            </span>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </a>
                        </div>
                        
                        <div class="product-content">
                            <h3 class="product-name">
                                <a href="{{ product.get_absolute_url }}">{{ product.name }}</a>
                            </h3>
                            
                            <div class="product-price">
                                {% if product.is_sale and product.sale_price %}
                                    <span class="price-old">{{ product.retail_price }} ‚Ç¥</span>
                                    <span class="price-current">{{ product.sale_price }} ‚Ç¥</span>
                                {% else %}
                                    <div class="price-row">
                                        <span class="price-current">{{ product.retail_price }} ‚Ç¥</span>
                                        <small class="price-type">—Ä–æ–∑–¥—Ä—ñ–±</small>
                                    </div>
                                    {% if product.wholesale_price %}
                                        <div class="price-row wholesale">
                                            <span class="price-wholesale">{{ product.wholesale_price }} ‚Ç¥</span>
                                            <small class="price-type">–æ–ø—Ç</small>
                                        </div>
                                    {% endif %}
                                {% endif %}
                                
                                {% if product.price_3_qty or product.price_5_qty %}
                                    <div class="quantity-prices">
                                        {% if product.price_3_qty %}
                                            <div class="qty-price">
                                                <span>–≤—ñ–¥ 3 —à—Ç: <strong>{{ product.price_3_qty }} ‚Ç¥</strong></span>
                                            </div>
                                        {% endif %}
                                        {% if product.price_5_qty %}
                                            <div class="qty-price">
                                                <span>–≤—ñ–¥ 5 —à—Ç: <strong>{{ product.price_5_qty }} ‚Ç¥</strong></span>
                                            </div>
                                        {% endif %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="product-actions">
                                <button class="btn btn-primary btn-sm add-to-cart" 
                                        data-product-id="{{ product.id }}"
                                        data-product-name="{{ product.name }}"
                                        {% if not product.is_in_stock %}disabled{% endif %}>
                                    {% if product.is_in_stock %}
                                        –ö—É–ø–∏—Ç–∏
                                    {% else %}
                                        –ù–µ–º–∞—î –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ
                                    {% endif %}
                                </button>
                                <button class="btn btn-outline btn-sm wishlist-btn" 
                                        data-product-id="{{ product.id }}"
                                        aria-label="–î–æ–¥–∞—Ç–∏ –≤ —Å–ø–∏—Å–æ–∫ –±–∞–∂–∞–Ω—å">
                                    <span class="icon-heart">‚ô°</span>
                                </button>
                            </div>
                        </div>
                    </div>
                {% empty %}
                    <div class="text-center">
                        <p class="text-muted">–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —Ç–æ–≤–∞—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è...</p>
                    </div>
                {% endfor %}
            </div>
            
            <button class="slider-nav-btn slider-next-btn" aria-label="–ù–∞—Å—Ç—É–ø–Ω—ñ —Ç–æ–≤–∞—Ä–∏">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>
        
        <div class="text-center mt-5">
            <a href="{% url 'core:catalog' %}" class="btn btn-secondary btn-lg">
                –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ —Ç–æ–≤–∞—Ä–∏
            </a>
        </div>
    </div>
</section>

<!-- 5. CTA Banners -->
<section class="cta-banners section-padding" aria-label="–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó">
    <div class="container">
        <div class="banners-grid">
            <div class="cta-banner cta-banner-primary">
                <div class="banner-content">
                    <h3 class="banner-title">–û–ü–¢</h3>
                    <p class="banner-subtitle">–º–∏ –≥–æ—Ç–æ–≤—ñ –¥–æ —Å–ø—ñ–≤–ø—Ä–∞—Ü—ñ</p>
                    <a href="{% url 'users:register' %}" class="btn btn-white">–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ</a>
                </div>
                <div class="banner-decoration">
                    <div class="decoration-stars"></div>
                </div>
            </div>
            
            <div class="cta-banner cta-banner-secondary">
                <div class="banner-content">
                    <h3 class="banner-title">–ö–£–ü–£–ô –ü–†–û–î–£–ö–¶–Ü–Æ</h3>
                    <h4 class="banner-subtitle text-primary">METT EXPERT</h4>
                    <p class="banner-text">–ù–ê –°–£–ú–£ –í–Ü–î 500 –ì–†–ù –¢–ê –û–¢–†–ò–ú–£–ô –¢–û–ü L1+</p>
                    <p class="banner-text">METT EXPERT –£ –ü–û–î–ê–†–£–ù–û–ö</p>
                    <a href="{% url 'products:sale' %}" class="btn btn-primary">–û–±—Ä–∞—Ç–∏</a>
                </div>
                <div class="banner-decoration">
                    <div class="decoration-gift"></div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/banner-slider.min.js' %}"></script>
<script src="{% static 'js/recommended-slider.js' %}"></script>
{% endblock %}

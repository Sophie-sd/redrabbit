{% extends 'base.html' %}
{% load static %}
{% load product_filters %}

{% block title %}–ê–∫—Ü—ñ—ó - Beauty Shop{% endblock %}
{% block description %}–ê–∫—Ü—ñ—ó Beauty Shop –∑—ñ –∑–Ω–∏–∂–∫–∞–º–∏ –¥–æ 50%. –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ –∫–æ—Å–º–µ—Ç–∏–∫–∞ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∑–∞ –≤–∏–≥—ñ–¥–Ω–∏–º–∏ —Ü—ñ–Ω–∞–º–∏.{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/catalog.css' %}">
{% endblock %}

{% block content %}
<!-- Sale Products -->
<section class="products-section section-padding">
    <div class="container">
        {% if products %}
            <!-- Filters -->
            <div class="filters-section mb-4">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <p class="results-count">
                            –ó–Ω–∞–π–¥–µ–Ω–æ <strong>{{ products|length }}</strong> –∞–∫—Ü—ñ–π–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤
                        </p>
                    </div>
                    <div class="col-md-6">
                        <div class="sort-options">
                            <select class="form-select" id="sortSelect">
                                <option value="name">–ó–∞ –Ω–∞–∑–≤–æ—é</option>
                                <option value="price_low">–°–ø–æ—á–∞—Ç–∫—É –¥–µ—à–µ–≤—à—ñ</option>
                                <option value="price_high">–°–ø–æ—á–∞—Ç–∫—É –¥–æ—Ä–æ–∂—á—ñ</option>
                                <option value="discount">–ó–∞ —Ä–æ–∑–º—ñ—Ä–æ–º –∑–Ω–∏–∂–∫–∏</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Products Grid -->
            <div class="products-grid sale-products-grid">
                {% for product in products %}
                    {% include 'includes/product_card.html' with product=product %}
                {% endfor %}
            </div>
            
            <!-- Pagination -->
            {% if is_paginated %}
            <nav class="pagination-wrapper" aria-label="–ü–∞–≥—ñ–Ω–∞—Ü—ñ—è —Ç–æ–≤–∞—Ä—ñ–≤">
                <div class="pagination-container">
                    {% if page_obj.has_previous %}
                    <a href="?page=1" class="pagination-btn pagination-btn--first" aria-label="–ü–µ—Ä—à–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M18 6L12 12L18 18M12 6L6 12L12 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                    <a href="?page={{ page_obj.previous_page_number }}" class="pagination-btn pagination-btn--prev" aria-label="–ü–æ–ø–µ—Ä–µ–¥–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M15 6L9 12L15 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                    {% endif %}
                    
                    <span class="pagination-info">–°—Ç–æ—Ä—ñ–Ω–∫–∞ {{ page_obj.number }} –∑ {{ page_obj.paginator.num_pages }}</span>
                    
                    {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number }}" class="pagination-btn pagination-btn--next" aria-label="–ù–∞—Å—Ç—É–ø–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                    <a href="?page={{ page_obj.paginator.num_pages }}" class="pagination-btn pagination-btn--last" aria-label="–û—Å—Ç–∞–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M6 6L12 12L6 18M12 6L18 12L12 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                    {% endif %}
                </div>
            </nav>
            {% endif %}
        {% else %}
            <!-- Empty State -->
            <div class="empty-state text-center">
                <div class="empty-state-icon">
                    <i class="icon-sale" aria-hidden="true">üè∑Ô∏è</i>
                </div>
                <h3 class="empty-state-title">–ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –∞–∫—Ü—ñ–π–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤</h3>
                <p class="empty-state-text">
                    –°–ª—ñ–¥–∫—É–π—Ç–µ –∑–∞ –Ω–∞—à–∏–º–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏, —â–æ–± –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –≤–∏–≥—ñ–¥–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó!
                </p>
                <a href="/" class="btn btn-primary btn-lg">
                    –ù–∞ –≥–æ–ª–æ–≤–Ω—É
                </a>
            </div>
        {% endif %}
    </div>
</section>
{% endblock %}

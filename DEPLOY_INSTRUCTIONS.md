# üöÄ –Ü–ù–°–¢–†–£–ö–¶–Ü–á –ü–û –î–ï–ü–õ–û–Æ –ù–û–í–û–á –°–ò–°–¢–ï–ú–ò –ö–ê–¢–ï–ì–û–†–Ü–ô

## ‚úÖ –©–û –ó–†–û–ë–õ–ï–ù–û:

### 1. **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:**
- –ó–º—ñ–Ω–µ–Ω–æ Product.category (ForeignKey) –Ω–∞ categories (ManyToMany)
- –î–æ–¥–∞–Ω–æ primary_category –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ URL
- –î–æ–¥–∞–Ω–æ Category.icon —Ç–∞ category_type (women/men/couple/general)

### 2. **Backend:**
- –û–Ω–æ–≤–ª–µ–Ω–æ views.py - —Å–ø—Ä–æ—â–µ–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä–∏ (—Ç—ñ–ª—å–∫–∏ –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó + —Ü—ñ–Ω–∞)
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ ManyToMany –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
- Distinct —Ç–æ–≤–∞—Ä–∏ –≤ –ø–æ—à—É–∫—É

### 3. **Frontend:**
- –ù–æ–≤—ñ —Ñ—ñ–ª—å—Ç—Ä–∏ –≤ category.html
- catalog_new.js –∑ 2 —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏ –∑–∞–º—ñ—Å—Ç—å 7
- –í—ñ–∑—É–∞–ª—å–Ω–µ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π (CSS)
- –Ü–∫–æ–Ω–∫–∏ –≤ sidebar menu

### 4. **–ú—ñ–≥—Ä–∞—Ü—ñ—ó:**
- 0022_add_multiple_categories.py
- 0023_migrate_categories_data.py
- 0024_remove_old_category.py

### 5. **Management –∫–æ–º–∞–Ω–¥–∏:**
- create_new_categories.py - —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- map_products_to_new_categories.py - —Ä–æ–∑–ø–æ–¥—ñ–ª—è—î —Ç–æ–≤–∞—Ä–∏

---

## üìã –ö–†–û–ö–ò –î–ï–ü–õ–û–Æ:

### **–ö–†–û–ö 1: –õ–æ–∫–∞–ª—å–Ω–æ (–ø–µ—Ä–µ–¥ push)**

```bash
# 1. –í–∏–∫–æ–Ω–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó
python manage.py makemigrations
python manage.py migrate

# 2. –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
python manage.py create_new_categories

# 3. –†–æ–∑–ø–æ–¥—ñ–ª–∏—Ç–∏ —Ç–æ–≤–∞—Ä–∏ –ø–æ –Ω–æ–≤–∏–º –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º
python manage.py map_products_to_new_categories

# 4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –≤—Å–µ –ø—Ä–∞—Ü—é—î
python manage.py runserver

# 5. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ:
# - –ú–µ–Ω—é –∑ —ñ–∫–æ–Ω–∫–∞–º–∏
# - –§—ñ–ª—å—Ç—Ä–∏ (—Ç—ñ–ª—å–∫–∏ –†–æ–∑–¥—ñ–ª–∏ + –¶—ñ–Ω–∞)
# - –í—ñ–∑—É–∞–ª—å–Ω–µ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è (—Ä–æ–∂–µ–≤–∏–π/—Å–∏–Ω—ñ–π/—Ñ—ñ–æ–ª–µ—Ç–æ–≤–∏–π)
```

### **–ö–†–û–ö 2: Push –≤ Git**

```bash
git add .
git commit -m "–ù–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π: ManyToMany, —ñ–∫–æ–Ω–∫–∏, —Å–ø—Ä–æ—â–µ–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä–∏"
git push origin main
```

### **–ö–†–û–ö 3: –ù–∞ Render**

Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
1. –ü—ñ–¥—Ö–æ–ø–∏—Ç—å –∑–º—ñ–Ω–∏ –∑ Git
2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
3. –í–∏–∫–æ–Ω–∞—î –º—ñ–≥—Ä–∞—Ü—ñ—ó (—á–µ—Ä–µ–∑ build.sh)

**–ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –≤—Ä—É—á–Ω—É –≤–∏–∫–æ–Ω–∞—Ç–∏:**

```bash
# –ó–∞–π—Ç–∏ –≤ Shell –Ω–∞ Render:
python manage.py create_new_categories
python manage.py map_products_to_new_categories
```

---

## üîß –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø –ü–û–°–¢–ê–ß–ê–õ–¨–ù–ò–ö–ê:

–û–Ω–æ–≤–∏—Ç–∏ import_products.py —â–æ–± —Ç–æ–≤–∞—Ä–∏ –æ–¥—Ä–∞–∑—É —Ä–æ–∑–ø–æ–¥—ñ–ª—è–ª–∏—Å—å –ø–æ –Ω–æ–≤–∏–º –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º:

```python
# –í import_products.py –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—É:
from apps.products.management.commands.map_products_to_new_categories import Command as MapCommand
mapper = MapCommand()
# –≤–∏–∫–æ–Ω–∞—Ç–∏ –º–∞–ø–ø—ñ–Ω–≥
```

---

## ‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û:

1. **–°—Ç–∞—Ä—ñ –¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è** - –º—ñ–≥—Ä–∞—Ü—ñ—è –∫–æ–ø—ñ—é—î category ‚Üí categories
2. **URL –Ω–µ –∑–º—ñ–Ω—è—Ç—å—Å—è** - primary_category –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ URL
3. **–¢–æ–≤–∞—Ä–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤ –∫—ñ–ª—å–∫–æ—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö** - –ø–æ—à—É–∫ –ø–æ–∫–∞–∂–µ 1 —Ä–∞–∑ (distinct)
4. **–§—ñ–ª—å—Ç—Ä–∏ —Å–ø—Ä–æ—â–µ–Ω—ñ** - –≤–∏–¥–∞–ª–µ–Ω–æ –ñ–∏–≤–ª–µ–Ω–Ω—è, –í–æ–¥–æ—Å—Ç—ñ–π–∫—ñ—Å—Ç—å, –í—ñ–±—Ä–∞—Ü—ñ—è, –ë—Ä–µ–Ω–¥, –ù–∞—è–≤–Ω—ñ—Å—Ç—å

---

## üé® –í–Ü–ó–£–ê–õ–¨–ù–ê –°–¢–†–£–ö–¢–£–†–ê:

- üéÄ –°–µ–∫—Å-—ñ–≥—Ä–∞—à–∫–∏ (general)
- üëô –ë—ñ–ª–∏–∑–Ω–∞, –∫–æ—Å—Ç—é–º–∏ (general)
- üîó –ë–î–°–ú, –§–µ—Ç–∏—à (general)
- üìÖ –ü—Ä–µ–ª—é–¥—ñ—è (general)
- üß¥ –õ—É–±—Ä–∏–∫–∞–Ω—Ç–∏ (general)
- ü©∫ –°–µ–∫—Å—É–∞–ª—å–Ω–µ –∑–¥–æ—Ä–æ–≤'—è (general)
- **‚ôÄ –ñ—ñ–Ω–∫–∞–º** (women) - —Ä–æ–∂–µ–≤–∏–π
- **‚ôÇ –ß–æ–ª–æ–≤—ñ–∫–∞–º** (men) - —Å–∏–Ω—ñ–π
- **üíë –î–ª—è –¥–≤–æ—Ö** (couple) - —Ñ—ñ–æ–ª–µ—Ç–æ–≤–∏–π

---

## üîç –ü–ï–†–ï–í–Ü–†–ö–ê –ü–Ü–°–õ–Ø –î–ï–ü–õ–û–Æ:

- [ ] –ú–µ–Ω—é –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –∑ —ñ–∫–æ–Ω–∫–∞–º–∏
- [ ] –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –ñ—ñ–Ω–∫–∞–º/–ß–æ–ª–æ–≤—ñ–∫–∞–º/–î–ª—è –¥–≤–æ—Ö –≤–∏–¥—ñ–ª–µ–Ω—ñ –∫–æ–ª—å–æ—Ä–∞–º–∏
- [ ] –§—ñ–ª—å—Ç—Ä–∏ –ø–æ–∫–∞–∑—É—é—Ç—å —Ç—ñ–ª—å–∫–∏ –†–æ–∑–¥—ñ–ª–∏ + –¶—ñ–Ω–∞
- [ ] –¢–æ–≤–∞—Ä–∏ —Ñ—ñ–ª—å—Ç—Ä—É—é—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ü–æ—à—É–∫ –ø–æ–∫–∞–∑—É—î —Ç–æ–≤–∞—Ä 1 —Ä–∞–∑ (–Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤ –∫—ñ–ª—å–∫–æ—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö)
- [ ] –ú–æ–±—ñ–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è –ø—Ä–∞—Ü—é—î
- [ ] iOS Safari –±–µ–∑ –ø—Ä–æ–±–ª–µ–º

---

## üì± –§–ê–ô–õ–ò –©–û –ó–ú–Ü–ù–ò–õ–ò–°–¨:

**Models:**
- apps/products/models.py

**Migrations:**
- apps/products/migrations/0022_add_multiple_categories.py
- apps/products/migrations/0023_migrate_categories_data.py
- apps/products/migrations/0024_remove_old_category.py

**Management:**
- apps/products/management/commands/create_new_categories.py
- apps/products/management/commands/map_products_to_new_categories.py

**Views:**
- apps/products/views.py

**Templates:**
- templates/products/category.html
- templates/includes/sidebar-menu.html
- templates/includes/product_card.html

**CSS:**
- static/css/categories-visual.css (–ù–û–í–ò–ô)

**JavaScript:**
- static/js/catalog_new.js (–ù–û–í–ò–ô)

---

**–ì–æ—Ç–æ–≤–æ –¥–æ –¥–µ–ø–ª–æ—é! üöÄ**

